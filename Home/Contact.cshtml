@model Stoyian.Models.InfoRequest


@{
    ViewBag.Title = "Contact";
    Layout = "~/Views/Shared/_LayoutInner.cshtml";
}

<style>
    .form-st {
       
       width:280px;
        
        padding: 6px 12px;
        font-size: 14px;
        line-height: 1.428571429;
        color: #555555;
        vertical-align: middle;
        background-color: #ffffff;
        border: 1px solid #cccccc;
        border-radius: 4px;

       
    }
   .error {
       /*margin:5px 0 0 20px;*/
         /*font-family:'Open Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;*/
         border-color:darkred;
         /*font-size:12px;
         font-weight:100;*/
     }
    .errorTxt {
     
        font-family:'Open Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
      color:#cf1616;
        font-size:12px;
         font-weight:100;
     }
     .errorTxtContainer {
      height:70px;

     }
</style>

<!--==============================content================================-->
<div class="container">
    <div class="row">
        <div class="col-sm-5 hidden-sm hidden-xs" >
            <h2 class="top-6">How to find me</h2>
            <div style="display:inline;float:left;position:relative;">
                <img src="/images/milkyway.jpg" alt=""><div class="contact-banner"><p>Solar system, <br /> then third planet on the right.</p></div>
            </div>

            <p style="float:left;margin-top:10px;">
                I'm in southern Florida (USA), near Fort Lauderdale, but don't publish my physical address to avoid junk mail.
                <br />Email me if you need to snail mail me something and I'll send you my postal address.
            </p>

        </div>
        <div class="col-sm-6 col-sm-offset-1">
            <h2 class="top-6">Drop me a line</h2>
            <p>The best way to contact me is via the form below, I'll respond within 16 hours.</p>
            <form id="cform" name="cform" method="post">
                @Html.AntiForgeryToken()
                <br />
                @if (ViewBag.success != null)
                {
                    <div id="SuccessMsg" class="success"><div class="text-success">Contact form submitted!<br />I'll be in touch soon</div></div>


                }
                @if (ViewBag.htmlerror != null)
                {
                    <p>HTML is not allowed in form!</p>
                }
                <div class="errorTxtContainer">
                    <div class="errorTxt"></div>
                </div>
                <div class="form-horizontal">
                    <div class="form-group">
                        <div class="col-sm-3"><label for="Name">Name</label></div>
                        <div class="col-sm-9">
                            <input class="form-st" id="Name" name="Name" type="text" required>
                        </div>



                    </div>

                    <div class="form-group">
                        <div class="col-sm-3"><label for="Email">Email</label></div>
                        <div class="col-sm-9">
                            <input id="Email" class="form-st" name="Email" type="email" required>
                        </div>


                    </div>


                    <div class="form-group">
                        <div class="col-sm-3"><label for="Message">Message</label></div>
                        <div class="col-sm-9">

                            <textarea cols="20" class="form-st" id="Message" name="Message" rows="5" required></textarea>


                        </div>


                    </div>

                    <div class="form-group">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-9">
                            <input type="hidden" name="MsgHidden" id="msgHidden" />
                            <input type="submit" value="Submit" class="btn btn-default" />
                        </div>


                    </div>


                </div>



            </form>

        </div>
    </div>


</div> 


<script>
    $('#cform').validate({
        messages: {
            Name: "Please, enter your name.",
            Message: "Please, enter a message.",
            Email:{required:"Please, enter your email."}
        },
        errorElement : 'div',
        errorLabelContainer: '.errorTxt',
           
        
        submitHandler: function (form) {
            // do other things for a valid form 
            checkme();
            form.submit();
        }
    });
   // $("#cform").removeAttr("novalidate");

  function checkme() {
 
   var regex = /(<([^>]+)>)/ig
   var texta = cform.elements["Message"].value;
   var result = texta.replace(regex, "");
   cform.elements["MsgHidden"].value = result;

 //document.forms["cform"].submit(); 
  
   
  }
  $(document).ready(function () {
     

      $("#SuccessMsg").delay(2000).hide("slow");
  });
</script>

